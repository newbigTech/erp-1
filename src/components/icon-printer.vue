<template>
    <svg t="1516098931230"
         class="icon"
         style="background-color: white;border-radius: 50%;"
         viewBox="0 0 1024 1024"
         title="下载打印机"
         version="1.1"
         xmlns="http://www.w3.org/2000/svg"
         p-id="2687" xmlns:xlink="http://www.w3.org/1999/xlink"
         width="18" height="18"
         @click="click"
         @mouseenter="enter"
         @mouseleave="leave"
         :class="{'pinter-active':isActive}">
        <path d="M624.732527 668.746974 397.603577 668.746974c-26.261107 0-50.214658 18.393929-53.829999 44.404326-1.442862 10.393721 0.581238 20.062941 4.65502 28.577872 8.230452 17.206894 25.662473 29.207206 45.974078 29.207206l233.534847 0c20.309558 0 37.743626-12.000312 45.974078-29.207206 4.072759-8.514931 6.097882-18.184151 4.652973-28.577872C674.949232 687.140902 650.996704 668.746974 624.732527 668.746974z" p-id="2688"></path>
        <path d="M773.746376 477.320153l-75.258031 0c-2.945075 0-5.334495 2.38942-5.334495 5.334495l0 69.749574c0 2.947122-2.38942 5.334495-5.336542 5.334495L334.51982 557.738717c-2.945075 0-5.334495-2.387373-5.334495-5.334495l0-69.749574c0-2.945075-2.38942-5.334495-5.336542-5.334495L248.595868 477.320153c-19.262716 0-34.876322 15.613606-34.876322 34.876322l0 194.637955c0 19.270902 15.623839 34.894741 34.894741 34.894741l76.818573 0c3.638877 0 6.051833-2.919493 5.180999-6.452969-2.223644-9.017374-2.619664-18.73469-0.470721-28.852118 6.614651-31.152511 35.956933-52.261271 67.803245-52.261271l226.443335 0c31.848359 0 61.191664 21.107737 67.805292 52.261271 2.146896 10.117428 1.752924 19.834744-0.472767 28.852118-0.871857 3.532453 1.543146 6.452969 5.180999 6.452969l76.846202 0c19.256576 0 34.867112-15.609513 34.867112-34.867112L808.616558 512.191358C808.616558 492.931712 793.004999 477.320153 773.746376 477.320153zM554.382273 601.308025l-86.425372 0c-7.245008 0-13.125949-5.874801-13.125949-13.125949 0-7.245008 5.880941-13.119809 13.125949-13.119809l86.425372 0c7.245008 0 13.123902 5.874801 13.123902 13.119809C567.506175 595.433224 561.627281 601.308025 554.382273 601.308025z" p-id="2689"></path><path d="M661.192927 248.695129 361.145224 248.695129c-9.494235 0-17.190521 7.698333-17.190521 17.192567L343.954703 525.777795c0 9.496282 7.696286 17.192567 17.190521 17.192567L661.192927 542.970362c9.494235 0 17.190521-7.696286 17.190521-17.192567L678.383448 265.887696C678.383448 256.393461 670.687162 248.695129 661.192927 248.695129zM614.690824 444.565145 407.65756 444.565145c-8.159844 0-14.770402-6.610558-14.770402-14.770402 0-8.153704 6.610558-14.770402 14.770402-14.770402l207.03224 0c8.157797 0 14.770402 6.615675 14.770402 14.770402C629.460202 437.954587 622.848621 444.565145 614.690824 444.565145zM614.690824 400.37162 407.65756 400.37162c-8.159844 0-14.770402-6.610558-14.770402-14.770402 0-8.153704 6.610558-14.768355 14.770402-14.768355l207.03224 0c8.157797 0 14.770402 6.614651 14.770402 14.768355C629.460202 393.761062 622.848621 400.37162 614.690824 400.37162zM614.690824 356.177072 407.65756 356.177072c-8.159844 0-14.770402-6.610558-14.770402-14.768355 0-8.153704 6.610558-14.770402 14.770402-14.770402l207.03224 0c8.157797 0 14.770402 6.615675 14.770402 14.770402C629.460202 349.567537 622.848621 356.177072 614.690824 356.177072z" p-id="2690"></path><path d="M511.171122 956.715571c-246.431575 0-446.904423-200.472847-446.904423-446.904423S264.739547 62.906725 511.171122 62.906725s446.904423 200.472847 446.904423 446.904423S757.602697 956.715571 511.171122 956.715571zM511.171122 101.767801c-224.989217 0-408.043347 183.054129-408.043347 408.043347s183.054129 408.043347 408.043347 408.043347 408.043347-183.054129 408.043347-408.043347S736.160339 101.767801 511.171122 101.767801z" p-id="2691"></path>
    </svg>

</template>
<style lang="stylus">
    .pinter-active{
        cursor pointer;
        background-color: #CCCCCC !important;
    }
</style>
<script>
    import {api_get_printer} from '../api/print'
    export default {
        data() {
            return {
                oldColor:this.color,
                newColor:this.color,
                isActive:false,
                downUrl:''
            }
        },
        methods: {
            click(){
                this.newColor="#aaa";
                this.$http(api_get_printer).then(res=>{
                    this.downUrl = config.apiHost + res.url;
                    window.open(config.apiHost+res.url);
                }).catch(code=>{
                    this.$message({type:"error",message:code.message || code});
                });

            },
            enter(){
                this.newColor="#ccc";
                this.isActive = true
            },
            leave(){
                this.newColor=this.oldColor
                this.isActive = false
            }
        },
        watch: {},
        props: {
            color:{
                required:true
            },
        },
        components: {}
    }
</script>
